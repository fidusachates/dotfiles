#!/bin/bash

raise_volume() {
    local is_muted=`pamixer --get-mute`
    if [ "$is_muted" == "true" ]; then
        pamixer -t
    fi
    pamixer -i 5
    notify-send "Volume [`pamixer --get-volume`%]" -u low -t 1000 -h string:x-canonical-private-synchronous:audio_volume -h int:value:"`pamixer --get-volume`"
}

lower_volume() {
    local is_muted=`pamixer --get-mute`
    if [ "$is_muted" == "true" ]; then
        pamixer -t
    fi
    pamixer -d 5
    notify-send "Volume [`pamixer --get-volume`%]" -u low -t 1000 -h string:x-canonical-private-synchronous:audio_volume -h int:value:"`pamixer --get-volume`"
}

toggle_mute() {
    pamixer -t
    local is_muted=`pamixer --get-mute`
    if [ "$is_muted" == "false" ]; then
        notify-send "Volume: `pamixer --get-volume`%" -u low -t 1000 -h string:x-canonical-private-synchronous:audio_volume
    else
        notify-send "Volume: muted" -u low -t 1000 -h string:x-canonical-private-synchronous:audio_volume
    fi
}

case $1 in
    "raise")
        raise_volume
        ;;
    "lower")
        lower_volume
        ;;
    "toggle-mute")
        toggle_mute
        ;;
esac

